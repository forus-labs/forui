import {Callout, Tabs} from 'nextra/components';
import { Widget } from "../../../components/widget.tsx";
import LinkBadge from "../../../components/link-badge/link-badge.tsx";
import LinkBadgeGroup from "../../../components/link-badge/link-badge-group.tsx";

# Select Group
A group of items that allow users to make a selection from a set of options.

<LinkBadgeGroup>
    <LinkBadge label="API Reference" href="https://pub.dev/documentation/forui/latest/forui.widgets.select_group/"/>
</LinkBadgeGroup>

<Callout type="info">
    For touch devices, a [select tile group](/docs/tile/select-tile-group) or
    [select menu tile](/docs/tile/select-menu-tile) is generally recommended over this.
</Callout>

<Tabs items={['Preview', 'Code']}>
  <Tabs.Tab>
    <Widget name='select-group' variant='default' query={{}} height={300}/>
  </Tabs.Tab>
  <Tabs.Tab>
    ```dart copy
    enum Sidebar { recents, home, applications }

    FSelectGroup<Sidebar>(
      controller: FSelectGroupController(values: {Sidebar.recents}),
      label: const Text('Sidebar'),
      description: const Text('These will be shown in the sidebar.'),
      items: [
        FSelectGroupItem.checkbox(
          value: Sidebar.recents,
          label: const Text('Recents'),
        ),
        FSelectGroupItem.checkbox(
          value: Sidebar.home,
          label: const Text('Home'),
        ),
        FSelectGroupItem.checkbox(
          value: Sidebar.applications,
          label: const Text('Applications'),
        ),
      ],
    );
    ```
  </Tabs.Tab>
</Tabs>

## Usage

### `FSelectGroup(...)`

```dart copy
FSelectGroup<Value>(
  controller: FSelectGroupController(), // or FSelectGroupController.radio()
  label: const Text('Sidebar'),
  description: const Text('Select the items you want to display in the sidebar.'),
  onChange: (all) => print(all),
  onSelect: (selection) => print(selection);
  items: [
    FSelectGroupItem.checkbox(
      value: Value.checkbox,
      label: const Text('Checkbox'),
    ),
    // or
    FSelectGroupItem.radio(
      value: Value.radio,
      label: const Text('Radio'),
    ),
  ],
);
```

## Examples

### Checkbox Form
<Tabs items={['Preview', 'Code']}>
    <Tabs.Tab>
        <Widget name='select-group' variant='checkbox-form' query={{}} height={400}/>
    </Tabs.Tab>
    <Tabs.Tab>
        ```dart copy
        enum Language { dart, java, rust, python }

        class CheckboxForm extends StatefulWidget {
          const CheckboxForm({super.key});

          @override
          State<CheckboxForm> createState() => CheckboxFormState();
        }

        class CheckboxFormState extends State<CheckboxForm> {
          final _formKey = GlobalKey<FormState>();
          final controller = FSelectGroupController<Language>();

          @override
          Widget build(BuildContext context) => Form(
                key: _formKey,
                child: Column(
                  mainAxisAlignment: MainAxisAlignment.center,
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    FSelectGroup(
                      controller: controller,
                      label: const Text('Favorite Languages'),
                      description: const Text('Your favorite language.'),
                      validator: (values) => values?.isEmpty ?? true ? 'Please select at least one language.' : null,
                      items: [
                        FSelectGroupItem.checkbox(
                          value: Language.dart,
                          label: const Text('Dart'),
                        ),
                        FSelectGroupItem.checkbox(
                          value: Language.java,
                          label: const Text('Java'),
                        ),
                        FSelectGroupItem.checkbox(
                          value: Language.rust,
                          label: const Text('Rust'),
                        ),
                        FSelectGroupItem.checkbox(
                          value: Language.python,
                          label: const Text('Python'),
                        ),
                      ],
                    ),
                    const SizedBox(height: 20),
                    FButton(
                      label: const Text('Submit'),
                      onPress: () {
                        if (!_formKey.currentState!.validate()) {
                          // Handle errors here.
                          return;
                        }

                        _formKey.currentState!.save();
                        // Do something.
                      },
                    ),
                  ],
                ),
              );

          @override
          void dispose() {
            controller.dispose();
            super.dispose();
          }
        }
        ```
    </Tabs.Tab>
</Tabs>

### Radio Form
<Tabs items={['Preview', 'Code']}>
  <Tabs.Tab>
    <Widget name='select-group' variant='radio-form' query={{}} height={400}/>
  </Tabs.Tab>
  <Tabs.Tab>
    ```dart copy
    enum Notification { all, direct, nothing }

    class RadioForm extends StatefulWidget {
      const RadioForm({super.key});

      @override
      State<RadioForm> createState() => RadioFormState();
    }

    class RadioFormState extends State<RadioForm> {
      final _formKey = GlobalKey<FormState>();
      final controller = FSelectGroupController<Notification>.radio();

      @override
      Widget build(BuildContext context) => Form(
            key: _formKey,
            child: Column(
              mainAxisAlignment: MainAxisAlignment.center,
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                FSelectGroup(
                  controller: controller,
                  label: const Text('Notifications'),
                  description: const Text('Select the notifications.'),
                  validator: (values) => values?.isEmpty ?? true ? 'Please select a value.' : null,
                  items: [
                    FSelectGroupItem.radio(
                      value: Notification.all,
                      label: const Text('All new messages'),
                    ),
                    FSelectGroupItem.radio(
                      value: Notification.direct,
                      label: const Text('Direct messages and mentions'),
                    ),
                    FSelectGroupItem.radio(
                      value: Notification.nothing,
                      label: const Text('Nothing'),
                    ),
                  ],
                ),
                const SizedBox(height: 20),
                FButton(
                  label: const Text('Save'),
                  onPress: () {
                    if (!_formKey.currentState!.validate()) {
                      // Handle errors here.
                      return;
                    }

                    _formKey.currentState!.save();
                    // Do something.
                  },
                ),
              ],
            ),
          );

      @override
      void dispose() {
        controller.dispose();
        super.dispose();
      }
    }
    ```
  </Tabs.Tab>
</Tabs>
