import { Tabs } from 'nextra/components';
import { Widget } from "../../../components/widget.tsx";
import LinkBadge from "../../../components/link-badge/link-badge.tsx";
import LinkBadgeGroup from "../../../components/link-badge/link-badge-group.tsx";

# Popover Menu
A popover menu displays a menu in a portal aligned to a child.

<LinkBadgeGroup>
    <LinkBadge label="API Reference" href="https://pub.dev/documentation/forui/latest/forui.widgets.popover-menu/forui.widgets.popover-menu-library.html"/>
</LinkBadgeGroup>

<Tabs items={['Preview', 'Code']}>
  <Tabs.Tab>
    <Widget name='popover-menu' query={{}} height={500}/>
  </Tabs.Tab>
  <Tabs.Tab>
    ```dart
    class _PopoverMenu extends StatefulWidget {
      @override
      State<_PopoverMenu> createState() => _State();
    }

    class _State extends State<_PopoverMenu> with SingleTickerProviderStateMixin {
      late FPopoverController controller;
      late FRadioSelectGroupController<String> groupController;

      @override
      void initState() {
        super.initState();
        controller = FPopoverController(vsync: this);
        groupController = FRadioSelectGroupController<String>();
      }

      @override
      Widget build(BuildContext context) => FHeader(
            title: const Text('Edit Notes'),
            actions: [
              FPopoverMenu(
                controller: controller,
                menuAnchor: Alignment.topRight,
                childAnchor: Alignment.bottomRight,
                menu: [
                  FTileGroup(
                    children: [
                      FTile(
                        prefixIcon: FIcon(FAssets.icons.user),
                        title: const Text('Personalization'),
                        onPress: () {},
                      ),
                      FTile(
                        prefixIcon: FIcon(FAssets.icons.paperclip),
                        title: const Text('Add attachments'),
                        onPress: () {},
                      ),
                    ],
                  ),
                  FTileGroup(
                    children: [
                      FTile(
                        prefixIcon: FIcon(FAssets.icons.list),
                        title: const Text('List View'),
                        onPress: () {},
                      ),
                      FTile(
                        prefixIcon: FIcon(FAssets.icons.layoutGrid),
                        title: const Text('Grid View'),
                        onPress: () {},
                      ),
                    ],
                  ),
                ],
              );

      @override
      void dispose() {
        controller.dispose();
        groupController.dispose();
        super.dispose();
      }
    }
    ```
  </Tabs.Tab>
</Tabs>

## Usage

### `FPopover(...)`

```dart
const FPopoverMenu(
  controller: FPopoverController(),
  menuAnchor: Alignment.topCenter,
  childAnchor: Alignment.bottomCenter,
  ignoreDirectionalPadding: true,
  hideOnTapOutside: true,
  shift: FPortalFollowerShift.flip,
  menu: [
    FTileGroup(
      children: [],
    ),
  ],
  child: const Placeholder(),
);
```

### `FPopover.tappable()`

```dart
const FPopoverMenu.tappable(
  controller: FPopoverController(),
  menuAnchor: Alignment.topCenter,
  childAnchor: Alignment.bottomCenter,
  ignoreDirectionalPadding: true,
  hideOnTapOutside: true,
  shift: FPortalFollowerShift.flip,
  menu: [
    FTileGroup(
      children: [],
    ),
  ],
  child: const Placeholder(),
);
```
